"use strict";function registerModelRemainingCharacters(){$("."+widgetBody).on("keyup",".model",function(){var l=$(this).val().length,o=MODEL_MAX_LENGTH-l;l<=MODEL_MAX_LENGTH&&$(this).parent().find(".help-block").text(MODEL_CHARACTERS_LEFT+o)})}function registerCarModelElementsVisibilityChange(){$("#IA-C-4, .IA-C-2.IA-C-3").change(function(){toggleRequiredClass(),togglePriceVisibility(),toggleQuantityVisibility(),toggleQuantityValidation(),changeLoadElementsStructure(),changeCarModelItemsStructure()})}function toggleRequiredClass(){isLoadTypePartial()&&(isPaymentMethodForCarModel()||isPaymentMethodForAllLoad())?$(".field-loadcar-model, .field-loadcar-quantity").addClass("required"):$(".field-loadcar-model, .field-loadcar-quantity").removeClass("required")}function togglePriceVisibility(){for(var l=0;l<$(".price").length;l++)isPaymentMethodForAllLoad()?($(".load-price").removeClass("hidden"),$(".field-"+LoadCar+"-"+l+"-price").hide()):($(".load-price").addClass("hidden"),$(".field-"+LoadCar+"-"+l+"-price").show())}function toggleQuantityVisibility(){for(var l=0;l<$(".quantity").length;l++)isPaymentMethodForCarModel()&&isLoadTypeFull()?$(".field-"+LoadCar+"-"+l+"-quantity").hide():$(".field-"+LoadCar+"-"+l+"-quantity").show()}function changeLoadElementsStructure(){$("#edit-load-form").is(":visible")?isPaymentMethodForAllLoad()?($(".load-payment-method-selection").removeClass("col-lg-12 col-md-12 col-sm-12 col-xs-12").addClass("col-lg-6 col-md-6 col-sm-6 col-xs-12"),$(".field-load-price").addClass("col-lg-6 col-md-6 col-sm-6 col-xs-12")):$("#edit-load-form").is(":visible")&&($(".load-payment-method-selection").removeClass("col-lg-6 col-md-6 col-sm-6 col-xs-12").addClass("col-lg-12 col-md-12 col-sm-12 col-xs-12"),$(".field-load-price").removeClass("col-lg-6 col-md-6 col-sm-6 col-xs-12")):isPaymentMethodForAllLoad()?($(".field-IA-C-4").addClass("col-sm-6"),$(".field-load-price").addClass("col-sm-6 col-xs-12")):($(".field-load-date").removeClass("col-lg-3 col-md-6 col-sm-6 col-xs-12").addClass("col-lg-4 col-md-4 col-sm-4 col-xs-12"),$(".field-load-price").removeClass("col-lg-3 col-md-6 col-sm-6 col-xs-12"),$(".load-unload-city-container").removeClass("col-lg-3 col-md-6 col-sm-6 col-xs-12").addClass("col-lg-4 col-md-4 col-sm-4 col-xs-12"),$(".field-IA-C-4").removeClass("col-sm-6"))}function changeCarModelItemsStructure(){$("#edit-load-form").is(":visible")?isPaymentMethodForAllLoad()?$(".remove-load-car-model").is(":visible")?($(".field-loadcar-quantity").removeClass("col-lg-2 col-md-5 col-sm-5 col-md-3 col-sm-3 col-lg-4 col-md-4 col-sm-4 col-xs-12 hidden").addClass("col-lg-3 col-md-3 col-sm-3 col-xs-12"),$(".field-loadcar-model").removeClass("col-lg-3 col-md-6 col-sm-6 col-xs-12").addClass("col-lg-4 col-md-4 col-sm-4 col-xs-12"),$(".field-loadcar-state").removeClass("col-lg-3 col-md-6 col-sm-6 col-xs-12").addClass("col-lg-4 col-md-4 col-sm-4 col-xs-12")):($(".field-loadcar-quantity").removeClass("col-lg-3 col-md-3 col-sm-3 col-md-6 col-sm-6 col-xs-12 hidden").addClass("col-lg-4 col-md-4 col-sm-4 col-xs-12"),$(".field-loadcar-model").removeClass("col-lg-3 col-md-6 col-sm-6 col-xs-12").addClass("col-lg-4 col-md-4 col-sm-4 col-xs-12"),$(".field-loadcar-price").removeClass("col-lg-3 col-md-6 col-sm-6 col-xs-12"),$(".field-loadcar-state").removeClass("col-lg-3 col-md-6 col-sm-6 col-xs-12").addClass("col-lg-4 col-md-4 col-sm-4 col-xs-12")):isLoadTypeFull()?$(".remove-load-car-model").is(":visible")?$(".field-loadcar-price").removeClass("col-lg-4 col-md-4 col-sm-4 col-xs-12 hidden").addClass("col-lg-3 col-md-3 col-sm-3 col-xs-12"):($(".field-loadcar-quantity").removeClass("col-lg-4 col-md-4 col-sm-4 col-xs-12"),$(".field-loadcar-model").removeClass("col-lg-4 col-md-4 col-sm-4 col-xs-12").addClass("col-lg-4 col-md-4 col-sm-4 col-xs-12"),$(".field-loadcar-price").removeClass("col-lg-3 col-md-3 col-sm-3 col-lg-4 col-md-4 col-sm-4 col-xs-12 hidden").addClass("col-lg-4 col-md-4 col-sm-4 col-xs-12"),$(".field-loadcar-state").removeClass("col-lg-4 col-md-4 col-sm-4 col-xs-12").addClass("col-lg-4 col-md-4 col-sm-4 col-xs-12")):$(".remove-load-car-model").is(":visible")?($(".field-loadcar-quantity").removeClass("col-lg-3 col-lg-4 col-md-4 col-sm-4 col-md-6 col-md-3 col-sm-3 col-sm-6 col-xs-12").addClass("col-lg-2 col-md-6 col-sm-6 col-xs-12"),$(".field-loadcar-model").removeClass("col-lg-4 col-md-4 col-sm-4 col-xs-12").addClass("col-lg-3 col-md-6 col-sm-6 col-xs-12"),$(".field-loadcar-price").removeClass("col-lg-4 col-md-4 col-sm-4 col-xs-12 hidden").addClass("col-lg-3 col-md-5 col-sm-5 col-xs-12"),$(".field-loadcar-state").removeClass("col-lg-4 col-md-4 col-sm-4 col-xs-12").addClass("col-lg-3 col-md-6 col-sm-6 col-xs-12")):($(".field-loadcar-quantity").removeClass("col-lg-2 col-md-6 col-sm-6 col-lg-4 col-md-4 col-sm-4 col-xs-12").addClass("col-lg-3 col-md-6 col-sm-6 col-xs-12"),$(".field-loadcar-model").removeClass("col-lg-4 col-md-4 col-sm-4 col-xs-12").addClass("col-lg-3 col-md-6 col-sm-6 col-xs-12"),$(".field-loadcar-price").removeClass("col-lg-4 col-md-5 col-sm-5 col-md-4 col-sm-4 col-xs-12 hidden").addClass("col-lg-3 col-md-6 col-sm-6 col-xs-12"),$(".field-loadcar-state").removeClass("col-lg-4 col-md-4 col-sm-4 col-xs-12").addClass("col-lg-3 col-md-6 col-sm-6 col-xs-12")):$(".remove-load-car-model").is(":visible")?!isLoadTypePartial()&&isLoadTypeSelected()||!isPaymentMethodForCarModel()?($(".field-loadcar-quantity").removeClass("col-lg-4 col-lg-3 col-md-6 col-sm-6 col-xs-12").addClass("col-lg-3 col-md-3 col-sm-3 col-xs-12"),$(".field-loadcar-model").removeClass("col-lg-3 col-md-6 col-sm-6 col-xs-12").addClass("col-lg-4 col-md-4 col-sm-4 col-xs-12"),$(".field-loadcar-state").removeClass("col-lg-3 col-md-6 col-sm-6 col-xs-12").addClass("col-lg-4 col-md-4 col-sm-4 col-xs-12"),$(".field-loadcar-price").removeClass("col-lg-4 col-md-6 col-sm-6 col-lg-2 col-md-5 col-sm-5 col-xs-12").addClass("col-lg-3 col-md-3 col-sm-3 col-xs-12")):($(".field-loadcar-quantity").removeClass("col-lg-4 col-md-6 col-sm-6 col-md-4 col-sm-4 col-lg-3 col-md-3 col-sm-3 col-xs-12").addClass("col-lg-3 col-md-6 col-sm-6 col-xs-12"),$(".field-loadcar-model").removeClass("col-lg-3 col-md-6 col-sm-6 col-lg-4 col-md-4 col-sm-4 col-xs-12").addClass("col-lg-3 col-md-6 col-sm-6 col-xs-12"),$(".field-loadcar-state").removeClass("col-lg-3 col-md-6 col-sm-6 col-lg-4 col-md-4 col-sm-4 col-xs-12").addClass("col-lg-3 col-md-6 col-sm-6 col-xs-12"),$(".field-loadcar-price").removeClass("col-md-6 col-sm-6 col-md-4 col-sm-4 col-lg-3 col-md-3 col-sm-3 col-xs-12").addClass("col-lg-2 col-md-5 col-sm-5 col-xs-12")):!isLoadTypePartial()&&isLoadTypeSelected()||!isPaymentMethodForCarModel()?($(".field-loadcar-quantity").removeClass("col-md-3 col-sm-3 col-lg-3 col-md-6 col-sm-6 col-xs-12").addClass("col-lg-4 col-md-4 col-sm-4 col-xs-12"),$(".field-loadcar-model").removeClass("col-lg-4 col-md-4 col-sm-4 col-lg-3 col-md-6 col-sm-6 col-xs-12").addClass("col-lg-4 col-md-4 col-sm-4 col-xs-12"),$(".field-loadcar-state").removeClass("col-lg-4 col-md-4 col-sm-4 col-lg-3 col-md-6 col-sm-6 col-xs-12").addClass("col-lg-4 col-md-4 col-sm-4 col-xs-12"),$(".field-loadcar-price").removeClass("col-md-3 col-sm-3 col-lg-3 col-md-6 col-sm-6 col-xs-12").addClass("col-lg-4 col-md-4 col-sm-4 col-xs-12")):($(".field-loadcar-quantity").removeClass("col-lg-4 col-md-4 col-sm-4 col-md-6 col-sm-6 col-xs-12").addClass("col-lg-3 col-md-6 col-sm-6 col-xs-12"),$(".field-loadcar-model").removeClass("col-lg-4 col-md-4 col-sm-4 col-md-6 col-sm-6 col-xs-12").addClass("col-lg-3 col-md-6 col-sm-6 col-xs-12"),$(".field-loadcar-state").removeClass("col-lg-4 col-md-6 col-md-4 col-sm-4 col-sm-6 col-xs-12").addClass("col-lg-3 col-md-6 col-sm-6 col-xs-12"),$(".field-loadcar-price").removeClass("col-lg-2 col-md-5 col-md-4 col-sm-4 col-sm-5 col-lg-4 col-md-6 col-sm-6 col-xs-12").addClass("col-lg-3 col-md-6 col-sm-6 col-xs-12"))}function registerAddAndRemoveCarModel(){$("."+widgetContainer).on("afterInsert",function(){toggleRemoveButtonVisibility(),toggleRequiredClass(),togglePriceVisibility(),toggleQuantityVisibility(),toggleQuantityValidation(),changeCarModelItemsStructure()}).on("afterDelete",function(){toggleRemoveButtonVisibility(),changeCarModelItemsStructure(),toggleQuantityVisibility(),toggleQuantityValidation()})}function toggleRemoveButtonVisibility(){$("."+widgetItem).length>1?$(".remove-load-car-model").removeClass("hidden"):$(".remove-load-car-model").addClass("hidden")}function isLoadTypePartial(){return $(".IA-C-2.IA-C-3:checked").val()==TYPE_PARTIAL}function isPaymentMethodForAllLoad(){return $("#IA-C-4").val()==FOR_ALL_LOAD}function isPaymentMethodForCarModel(){return $("#IA-C-4").val()==FOR_CAR_MODEL}function isLoadTypeFull(){return $(".IA-C-2.IA-C-3:checked").val()==TYPE_FULL}function isLoadTypeSelected(){return $(".IA-C-2.IA-C-3").is(":checked")}$(document).ready(function(){formId="load-announce-form",widgetContainer="load_car_model_wrapper",widgetContainer="load_car_model_wrapper",widgetBody="load-car-model-container",widgetItem="load-car-model-item",registerCarModelValidation(),registerQuantityValidation(),registerModelRemainingCharacters(),registerCarModelElementsVisibilityChange(),registerAddAndRemoveCarModel(),registerLoadDirectionChange()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvYWQvYW5ub3VuY2UuanMiXSwibmFtZXMiOlsicmVnaXN0ZXJNb2RlbFJlbWFpbmluZ0NoYXJhY3RlcnMiLCIkIiwid2lkZ2V0Qm9keSIsIm9uIiwiY2hhcmFjdGVycyIsInRoaXMiLCJ2YWwiLCJsZW5ndGgiLCJsZWZ0U3ltYm9sc1RvVHlwZSIsIk1PREVMX01BWF9MRU5HVEgiLCJwYXJlbnQiLCJmaW5kIiwidGV4dCIsIk1PREVMX0NIQVJBQ1RFUlNfTEVGVCIsInJlZ2lzdGVyQ2FyTW9kZWxFbGVtZW50c1Zpc2liaWxpdHlDaGFuZ2UiLCJjaGFuZ2UiLCJ0b2dnbGVSZXF1aXJlZENsYXNzIiwidG9nZ2xlUHJpY2VWaXNpYmlsaXR5IiwidG9nZ2xlUXVhbnRpdHlWaXNpYmlsaXR5IiwidG9nZ2xlUXVhbnRpdHlWYWxpZGF0aW9uIiwiY2hhbmdlTG9hZEVsZW1lbnRzU3RydWN0dXJlIiwiY2hhbmdlQ2FyTW9kZWxJdGVtc1N0cnVjdHVyZSIsImlzTG9hZFR5cGVQYXJ0aWFsIiwiaXNQYXltZW50TWV0aG9kRm9yQ2FyTW9kZWwiLCJpc1BheW1lbnRNZXRob2RGb3JBbGxMb2FkIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImluZGV4IiwiTG9hZENhciIsImhpZGUiLCJzaG93IiwiaXNMb2FkVHlwZUZ1bGwiLCJpcyIsImlzTG9hZFR5cGVTZWxlY3RlZCIsInJlZ2lzdGVyQWRkQW5kUmVtb3ZlQ2FyTW9kZWwiLCJ3aWRnZXRDb250YWluZXIiLCJ0b2dnbGVSZW1vdmVCdXR0b25WaXNpYmlsaXR5Iiwid2lkZ2V0SXRlbSIsIlRZUEVfUEFSVElBTCIsIkZPUl9BTExfTE9BRCIsIkZPUl9DQVJfTU9ERUwiLCJUWVBFX0ZVTEwiLCJkb2N1bWVudCIsInJlYWR5IiwiZm9ybUlkIiwicmVnaXN0ZXJDYXJNb2RlbFZhbGlkYXRpb24iLCJyZWdpc3RlclF1YW50aXR5VmFsaWRhdGlvbiIsInJlZ2lzdGVyTG9hZERpcmVjdGlvbkNoYW5nZSJdLCJtYXBwaW5ncyI6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QUFTLHdDQUN6R3hCLEVBQUUsd0JBQXdCeUIsWUFBWSwwREFBMERELFNBQVMsd0NBQ3pHeEIsRUFBRSx3QkFBd0J5QixZQUFZLHFGQUFxRkQsU0FBUyx5Q0FjcEosUUFBU1MsZ0NBQ0xqQyxFQUFFLElBQU1rQyxpQkFBaUJoQyxHQUFHLGNBQWUsV0FDdkNpQywrQkFDQXBCLHNCQUNBQyx3QkFDQUMsMkJBQ0FDLDJCQUNBRSxpQ0FDRGxCLEdBQUcsY0FBZSxXQUNqQmlDLCtCQUNBZiwrQkFDQUgsMkJBQ0FDLDZCQU9SLFFBQVNpQixnQ0FDRG5DLEVBQUUsSUFBTW9DLFlBQVk5QixPQUFTLEVBQzdCTixFQUFFLDBCQUEwQnlCLFlBQVksVUFFeEN6QixFQUFFLDBCQUEwQndCLFNBQVMsVUFTN0MsUUFBU0gscUJBQ0wsTUFBT3JCLEdBQUUsMEJBQTBCSyxPQUFTZ0MsYUFRaEQsUUFBU2QsNkJBQ0wsTUFBT3ZCLEdBQUUsV0FBV0ssT0FBU2lDLGFBUWpDLFFBQVNoQiw4QkFDTCxNQUFPdEIsR0FBRSxXQUFXSyxPQUFTa0MsY0FRakMsUUFBU1Qsa0JBQ0wsTUFBTzlCLEdBQUUsMEJBQTBCSyxPQUFTbUMsVUFRaEQsUUFBU1Isc0JBQ0wsTUFBT2hDLEdBQUUsa0JBQWtCK0IsR0FBRyxZQTNQbEMvQixFQUFFeUMsVUFBVUMsTUFBTSxXQUNkQyxPQUFTLHFCQUNUVCxnQkFBa0IseUJBQ2xCQSxnQkFBa0IseUJBQ2xCakMsV0FBYSwyQkFDYm1DLFdBQWEsc0JBQ2JRLDZCQUNBQyw2QkFDQTlDLG1DQUNBYywyQ0FDQW9CLCtCQUNBYSIsImZpbGUiOiJsb2FkL2Fubm91bmNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsXHJcbk1PREVMX01BWF9MRU5HVEgsXHJcbk1PREVMX0NIQVJBQ1RFUlNfTEVGVCxcclxuVFlQRV9QQVJUSUFMLFxyXG5GT1JfQUxMX0xPQUQsXHJcbkZPUl9DQVJfTU9ERUwsXHJcblRZUEVfRlVMTCxcclxuTG9hZENhclxyXG4qL1xyXG5cclxuLyoqXHJcbiAqIEV4ZWN1dGVzIGFub255bW91cyBmdW5jdGlvbiB3aGVuIGRvY3VtZW50IGZ1bGx5IGxvYWRzXHJcbiAqL1xyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICBmb3JtSWQgPSAnbG9hZC1hbm5vdW5jZS1mb3JtJztcclxuICAgIHdpZGdldENvbnRhaW5lciA9ICdsb2FkX2Nhcl9tb2RlbF93cmFwcGVyJztcclxuICAgIHdpZGdldENvbnRhaW5lciA9ICdsb2FkX2Nhcl9tb2RlbF93cmFwcGVyJztcclxuICAgIHdpZGdldEJvZHkgPSAnbG9hZC1jYXItbW9kZWwtY29udGFpbmVyJztcclxuICAgIHdpZGdldEl0ZW0gPSAnbG9hZC1jYXItbW9kZWwtaXRlbSc7XHJcbiAgICByZWdpc3RlckNhck1vZGVsVmFsaWRhdGlvbigpO1xyXG4gICAgcmVnaXN0ZXJRdWFudGl0eVZhbGlkYXRpb24oKTtcclxuICAgIHJlZ2lzdGVyTW9kZWxSZW1haW5pbmdDaGFyYWN0ZXJzKCk7XHJcbiAgICByZWdpc3RlckNhck1vZGVsRWxlbWVudHNWaXNpYmlsaXR5Q2hhbmdlKCk7XHJcbiAgICByZWdpc3RlckFkZEFuZFJlbW92ZUNhck1vZGVsKCk7XHJcbiAgICByZWdpc3RlckxvYWREaXJlY3Rpb25DaGFuZ2UoKTtcclxufSk7XHJcblxyXG4vKipcclxuICogUmVnaXN0ZXJzIGxvYWQgY2FyIG1vZGVsIHJlbWFpbmluZyBjaGFyYWN0ZXJzIGRpc3BsYXlcclxuICovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyTW9kZWxSZW1haW5pbmdDaGFyYWN0ZXJzKCkge1xyXG4gICAgJCgnLicgKyB3aWRnZXRCb2R5KS5vbigna2V5dXAnLCAnLm1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLyoqIEBtZW1iZXIge251bWJlcn0gVHlwZWQgc3ltYm9scyBsZW5ndGggaW4gdGhlIGlucHV0ICovXHJcbiAgICAgICAgdmFyIGNoYXJhY3RlcnMgPSAkKHRoaXMpLnZhbCgpLmxlbmd0aDtcclxuICAgICAgICAvKiogQG1lbWJlciB7bnVtYmVyfSBTeW1ib2xzIGxlZnQgdG8gdHlwZSAqL1xyXG4gICAgICAgIHZhciBsZWZ0U3ltYm9sc1RvVHlwZSA9IE1PREVMX01BWF9MRU5HVEggLSBjaGFyYWN0ZXJzO1xyXG5cclxuICAgICAgICBpZiAoY2hhcmFjdGVycyA8PSBNT0RFTF9NQVhfTEVOR1RIKSB7XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50KCkuZmluZCgnLmhlbHAtYmxvY2snKS50ZXh0KE1PREVMX0NIQVJBQ1RFUlNfTEVGVCArIGxlZnRTeW1ib2xzVG9UeXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlZ2lzdGVycyBjYXIgbW9kZWwgZWxlbWVudCB2aXNpYmlsaXR5IGNoYW5nZVxyXG4gKi9cclxuZnVuY3Rpb24gcmVnaXN0ZXJDYXJNb2RlbEVsZW1lbnRzVmlzaWJpbGl0eUNoYW5nZSgpIHtcclxuICAgICQoJyNJQS1DLTQsIC5JQS1DLTIuSUEtQy0zJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRvZ2dsZVJlcXVpcmVkQ2xhc3MoKTtcclxuICAgICAgICB0b2dnbGVQcmljZVZpc2liaWxpdHkoKTtcclxuICAgICAgICB0b2dnbGVRdWFudGl0eVZpc2liaWxpdHkoKTtcclxuICAgICAgICB0b2dnbGVRdWFudGl0eVZhbGlkYXRpb24oKTtcclxuICAgICAgICBjaGFuZ2VMb2FkRWxlbWVudHNTdHJ1Y3R1cmUoKTtcclxuICAgICAgICBjaGFuZ2VDYXJNb2RlbEl0ZW1zU3RydWN0dXJlKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFkZHMgb3IgcmVtb3ZlcyByZXF1aXJlZCBjbGFzc1xyXG4gKi9cclxuZnVuY3Rpb24gdG9nZ2xlUmVxdWlyZWRDbGFzcygpIHtcclxuICAgIGlmIChpc0xvYWRUeXBlUGFydGlhbCgpICYmIChpc1BheW1lbnRNZXRob2RGb3JDYXJNb2RlbCgpIHx8IGlzUGF5bWVudE1ldGhvZEZvckFsbExvYWQoKSkpIHtcclxuICAgICAgICAkKCcuZmllbGQtbG9hZGNhci1tb2RlbCwgLmZpZWxkLWxvYWRjYXItcXVhbnRpdHknKS5hZGRDbGFzcygncmVxdWlyZWQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCgnLmZpZWxkLWxvYWRjYXItbW9kZWwsIC5maWVsZC1sb2FkY2FyLXF1YW50aXR5JykucmVtb3ZlQ2xhc3MoJ3JlcXVpcmVkJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTaG93cyBvciBoaWRlcyBsb2FkIHByaWNlIGFuZCBsb2FkIGNhciBwcmljZSBkZXBlbmRpbmcgb24gcGF5bWVudCBtZXRob2RcclxuICovXHJcbmZ1bmN0aW9uIHRvZ2dsZVByaWNlVmlzaWJpbGl0eSgpIHtcclxuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCAkKCcucHJpY2UnKS5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICBpZiAoaXNQYXltZW50TWV0aG9kRm9yQWxsTG9hZCgpKSB7XHJcbiAgICAgICAgICAgICQoJy5sb2FkLXByaWNlJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAkKCcuZmllbGQtJyArIExvYWRDYXIgKyAnLScgKyBpbmRleCArICctcHJpY2UnKS5oaWRlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnLmxvYWQtcHJpY2UnKS5hZGRDbGFzcygnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICQoJy5maWVsZC0nICsgTG9hZENhciArICctJyArIGluZGV4ICsgJy1wcmljZScpLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTaG93cyBvciBoaWRlcyBsb2FkIGNhciBxdWFudGl0eSBkZXBlbmRpbmcgb24gcGF5bWVudCBtZXRob2QgYW5kIGxvYWQgdHlwZVxyXG4gKi9cclxuZnVuY3Rpb24gdG9nZ2xlUXVhbnRpdHlWaXNpYmlsaXR5KCkge1xyXG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8ICQoJy5xdWFudGl0eScpLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgIGlmIChpc1BheW1lbnRNZXRob2RGb3JDYXJNb2RlbCgpICYmIGlzTG9hZFR5cGVGdWxsKCkpIHtcclxuICAgICAgICAgICAgJCgnLmZpZWxkLScgKyBMb2FkQ2FyICsgJy0nICsgaW5kZXggKyAnLXF1YW50aXR5JykuaGlkZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJy5maWVsZC0nICsgTG9hZENhciArICctJyArIGluZGV4ICsgJy1xdWFudGl0eScpLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGFuZ2VzIGFubm91bmNlIGxvYWQgZWxlbWVudHMgc3RydWN0dXJlXHJcbiAqL1xyXG5mdW5jdGlvbiBjaGFuZ2VMb2FkRWxlbWVudHNTdHJ1Y3R1cmUoKSB7XHJcbiAgICBpZiAoJCgnI2VkaXQtbG9hZC1mb3JtJykuaXMoJzp2aXNpYmxlJykpIHtcclxuICAgICAgICBpZiAoaXNQYXltZW50TWV0aG9kRm9yQWxsTG9hZCgpKSB7XHJcbiAgICAgICAgICAgICQoJy5sb2FkLXBheW1lbnQtbWV0aG9kLXNlbGVjdGlvbicpLnJlbW92ZUNsYXNzKCdjb2wtbGctMTIgY29sLW1kLTEyIGNvbC1zbS0xMiBjb2wteHMtMTInKS5hZGRDbGFzcygnY29sLWxnLTYgY29sLW1kLTYgY29sLXNtLTYgY29sLXhzLTEyJyk7XHJcbiAgICAgICAgICAgICQoJy5maWVsZC1sb2FkLXByaWNlJykuYWRkQ2xhc3MoJ2NvbC1sZy02IGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICgkKCcjZWRpdC1sb2FkLWZvcm0nKS5pcygnOnZpc2libGUnKSkge1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWQtcGF5bWVudC1tZXRob2Qtc2VsZWN0aW9uJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy02IGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctMTIgY29sLW1kLTEyIGNvbC1zbS0xMiBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkLXByaWNlJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy02IGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoaXNQYXltZW50TWV0aG9kRm9yQWxsTG9hZCgpKSB7XHJcbiAgICAgICAgICAgICQoJy5maWVsZC1JQS1DLTQnKS5hZGRDbGFzcygnY29sLXNtLTYnKTtcclxuICAgICAgICAgICAgJCgnLmZpZWxkLWxvYWQtcHJpY2UnKS5hZGRDbGFzcygnY29sLXNtLTYgY29sLXhzLTEyJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnLmZpZWxkLWxvYWQtZGF0ZScpLnJlbW92ZUNsYXNzKCdjb2wtbGctMyBjb2wtbWQtNiBjb2wtc20tNiBjb2wteHMtMTInKS5hZGRDbGFzcygnY29sLWxnLTQgY29sLW1kLTQgY29sLXNtLTQgY29sLXhzLTEyJyk7XHJcbiAgICAgICAgICAgICQoJy5maWVsZC1sb2FkLXByaWNlJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy0zIGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpO1xyXG4gICAgICAgICAgICAkKCcubG9hZC11bmxvYWQtY2l0eS1jb250YWluZXInKS5yZW1vdmVDbGFzcygnY29sLWxnLTMgY29sLW1kLTYgY29sLXNtLTYgY29sLXhzLTEyJykuYWRkQ2xhc3MoJ2NvbC1sZy00IGNvbC1tZC00IGNvbC1zbS00IGNvbC14cy0xMicpO1xyXG4gICAgICAgICAgICAkKCcuZmllbGQtSUEtQy00JykucmVtb3ZlQ2xhc3MoJ2NvbC1zbS02Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogQ2hhbmdlIGFubm91bmNlIG5ldyBjYXIgbW9kZWwgaW5mbyBzdHJ1Y3R1cmVcclxuICovXHJcbmZ1bmN0aW9uIGNoYW5nZUNhck1vZGVsSXRlbXNTdHJ1Y3R1cmUoKSB7XHJcbiAgICBpZiAoJCgnI2VkaXQtbG9hZC1mb3JtJykuaXMoJzp2aXNpYmxlJykpIHtcclxuICAgICAgICBpZiAoaXNQYXltZW50TWV0aG9kRm9yQWxsTG9hZCgpKSB7XHJcbiAgICAgICAgICAgIGlmICgkKCcucmVtb3ZlLWxvYWQtY2FyLW1vZGVsJykuaXMoJzp2aXNpYmxlJykpIHtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXF1YW50aXR5JykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy0yIGNvbC1tZC01IGNvbC1zbS01IGNvbC1tZC0zIGNvbC1zbS0zIGNvbC1sZy00IGNvbC1tZC00IGNvbC1zbS00IGNvbC14cy0xMiBoaWRkZW4nKS5hZGRDbGFzcygnY29sLWxnLTMgY29sLW1kLTMgY29sLXNtLTMgY29sLXhzLTEyJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuZmllbGQtbG9hZGNhci1tb2RlbCcpLnJlbW92ZUNsYXNzKCdjb2wtbGctMyBjb2wtbWQtNiBjb2wtc20tNiBjb2wteHMtMTInKS5hZGRDbGFzcygnY29sLWxnLTQgY29sLW1kLTQgY29sLXNtLTQgY29sLXhzLTEyJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuZmllbGQtbG9hZGNhci1zdGF0ZScpLnJlbW92ZUNsYXNzKCdjb2wtbGctMyBjb2wtbWQtNiBjb2wtc20tNiBjb2wteHMtMTInKS5hZGRDbGFzcygnY29sLWxnLTQgY29sLW1kLTQgY29sLXNtLTQgY29sLXhzLTEyJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCcuZmllbGQtbG9hZGNhci1xdWFudGl0eScpLnJlbW92ZUNsYXNzKCdjb2wtbGctMyBjb2wtbWQtMyBjb2wtc20tMyBjb2wtbWQtNiBjb2wtc20tNiBjb2wteHMtMTIgaGlkZGVuJykuYWRkQ2xhc3MoJ2NvbC1sZy00IGNvbC1tZC00IGNvbC1zbS00IGNvbC14cy0xMicpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmZpZWxkLWxvYWRjYXItbW9kZWwnKS5yZW1vdmVDbGFzcygnY29sLWxnLTMgY29sLW1kLTYgY29sLXNtLTYgY29sLXhzLTEyJykuYWRkQ2xhc3MoJ2NvbC1sZy00IGNvbC1tZC00IGNvbC1zbS00IGNvbC14cy0xMicpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmZpZWxkLWxvYWRjYXItcHJpY2UnKS5yZW1vdmVDbGFzcygnY29sLWxnLTMgY29sLW1kLTYgY29sLXNtLTYgY29sLXhzLTEyJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuZmllbGQtbG9hZGNhci1zdGF0ZScpLnJlbW92ZUNsYXNzKCdjb2wtbGctMyBjb2wtbWQtNiBjb2wtc20tNiBjb2wteHMtMTInKS5hZGRDbGFzcygnY29sLWxnLTQgY29sLW1kLTQgY29sLXNtLTQgY29sLXhzLTEyJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoaXNMb2FkVHlwZUZ1bGwoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCQoJy5yZW1vdmUtbG9hZC1jYXItbW9kZWwnKS5pcygnOnZpc2libGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXByaWNlJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy00IGNvbC1tZC00IGNvbC1zbS00IGNvbC14cy0xMiBoaWRkZW4nKS5hZGRDbGFzcygnY29sLWxnLTMgY29sLW1kLTMgY29sLXNtLTMgY29sLXhzLTEyJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXF1YW50aXR5JykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy00IGNvbC1tZC00IGNvbC1zbS00IGNvbC14cy0xMicpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLW1vZGVsJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy00IGNvbC1tZC00IGNvbC1zbS00IGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctNCBjb2wtbWQtNCBjb2wtc20tNCBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuZmllbGQtbG9hZGNhci1wcmljZScpLnJlbW92ZUNsYXNzKCdjb2wtbGctMyBjb2wtbWQtMyBjb2wtc20tMyBjb2wtbGctNCBjb2wtbWQtNCBjb2wtc20tNCBjb2wteHMtMTIgaGlkZGVuJykuYWRkQ2xhc3MoJ2NvbC1sZy00IGNvbC1tZC00IGNvbC1zbS00IGNvbC14cy0xMicpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXN0YXRlJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy00IGNvbC1tZC00IGNvbC1zbS00IGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctNCBjb2wtbWQtNCBjb2wtc20tNCBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICgkKCcucmVtb3ZlLWxvYWQtY2FyLW1vZGVsJykuaXMoJzp2aXNpYmxlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuZmllbGQtbG9hZGNhci1xdWFudGl0eScpLnJlbW92ZUNsYXNzKCdjb2wtbGctMyBjb2wtbGctNCBjb2wtbWQtNCBjb2wtc20tNCBjb2wtbWQtNiBjb2wtbWQtMyBjb2wtc20tMyBjb2wtc20tNiBjb2wteHMtMTInKS5hZGRDbGFzcygnY29sLWxnLTIgY29sLW1kLTYgY29sLXNtLTYgY29sLXhzLTEyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmZpZWxkLWxvYWRjYXItbW9kZWwnKS5yZW1vdmVDbGFzcygnY29sLWxnLTQgY29sLW1kLTQgY29sLXNtLTQgY29sLXhzLTEyJykuYWRkQ2xhc3MoJ2NvbC1sZy0zIGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXByaWNlJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy00IGNvbC1tZC00IGNvbC1zbS00IGNvbC14cy0xMiBoaWRkZW4nKS5hZGRDbGFzcygnY29sLWxnLTMgY29sLW1kLTUgY29sLXNtLTUgY29sLXhzLTEyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmZpZWxkLWxvYWRjYXItc3RhdGUnKS5yZW1vdmVDbGFzcygnY29sLWxnLTQgY29sLW1kLTQgY29sLXNtLTQgY29sLXhzLTEyJykuYWRkQ2xhc3MoJ2NvbC1sZy0zIGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuZmllbGQtbG9hZGNhci1xdWFudGl0eScpLnJlbW92ZUNsYXNzKCdjb2wtbGctMiBjb2wtbWQtNiBjb2wtc20tNiBjb2wtbGctNCBjb2wtbWQtNCBjb2wtc20tNCBjb2wteHMtMTInKS5hZGRDbGFzcygnY29sLWxnLTMgY29sLW1kLTYgY29sLXNtLTYgY29sLXhzLTEyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmZpZWxkLWxvYWRjYXItbW9kZWwnKS5yZW1vdmVDbGFzcygnY29sLWxnLTQgY29sLW1kLTQgY29sLXNtLTQgY29sLXhzLTEyJykuYWRkQ2xhc3MoJ2NvbC1sZy0zIGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXByaWNlJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy00IGNvbC1tZC01IGNvbC1zbS01IGNvbC1tZC00IGNvbC1zbS00IGNvbC14cy0xMiBoaWRkZW4nKS5hZGRDbGFzcygnY29sLWxnLTMgY29sLW1kLTYgY29sLXNtLTYgY29sLXhzLTEyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmZpZWxkLWxvYWRjYXItc3RhdGUnKS5yZW1vdmVDbGFzcygnY29sLWxnLTQgY29sLW1kLTQgY29sLXNtLTQgY29sLXhzLTEyJykuYWRkQ2xhc3MoJ2NvbC1sZy0zIGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoJCgnLnJlbW92ZS1sb2FkLWNhci1tb2RlbCcpLmlzKCc6dmlzaWJsZScpKSB7XHJcbiAgICAgICAgICAgIGlmICgoaXNMb2FkVHlwZVBhcnRpYWwoKSB8fCAhaXNMb2FkVHlwZVNlbGVjdGVkKCkpICYmIGlzUGF5bWVudE1ldGhvZEZvckNhck1vZGVsKCkpIHtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXF1YW50aXR5JykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy00IGNvbC1tZC02IGNvbC1zbS02IGNvbC1tZC00IGNvbC1zbS00IGNvbC1sZy0zIGNvbC1tZC0zIGNvbC1zbS0zIGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctMyBjb2wtbWQtNiBjb2wtc20tNiBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLW1vZGVsJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy0zIGNvbC1tZC02IGNvbC1zbS02IGNvbC1sZy00IGNvbC1tZC00IGNvbC1zbS00IGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctMyBjb2wtbWQtNiBjb2wtc20tNiBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXN0YXRlJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy0zIGNvbC1tZC02IGNvbC1zbS02IGNvbC1sZy00IGNvbC1tZC00IGNvbC1zbS00IGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctMyBjb2wtbWQtNiBjb2wtc20tNiBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXByaWNlJykucmVtb3ZlQ2xhc3MoJ2NvbC1tZC02IGNvbC1zbS02IGNvbC1tZC00IGNvbC1zbS00IGNvbC1sZy0zIGNvbC1tZC0zIGNvbC1zbS0zIGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctMiBjb2wtbWQtNSBjb2wtc20tNSBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXF1YW50aXR5JykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy00IGNvbC1sZy0zIGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctMyBjb2wtbWQtMyBjb2wtc20tMyBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLW1vZGVsJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy0zIGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctNCBjb2wtbWQtNCBjb2wtc20tNCBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXN0YXRlJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy0zIGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctNCBjb2wtbWQtNCBjb2wtc20tNCBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXByaWNlJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy00IGNvbC1tZC02IGNvbC1zbS02IGNvbC1sZy0yIGNvbC1tZC01IGNvbC1zbS01IGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctMyBjb2wtbWQtMyBjb2wtc20tMyBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICgoaXNMb2FkVHlwZVBhcnRpYWwoKSB8fCAhaXNMb2FkVHlwZVNlbGVjdGVkKCkpICYmIGlzUGF5bWVudE1ldGhvZEZvckNhck1vZGVsKCkpIHtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXF1YW50aXR5JykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy00IGNvbC1tZC00IGNvbC1zbS00IGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctMyBjb2wtbWQtNiBjb2wtc20tNiBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLW1vZGVsJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy00IGNvbC1tZC00IGNvbC1zbS00IGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctMyBjb2wtbWQtNiBjb2wtc20tNiBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXN0YXRlJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy00IGNvbC1tZC02IGNvbC1tZC00IGNvbC1zbS00IGNvbC1zbS02IGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctMyBjb2wtbWQtNiBjb2wtc20tNiBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXByaWNlJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy0yIGNvbC1tZC01IGNvbC1tZC00IGNvbC1zbS00IGNvbC1zbS01IGNvbC1sZy00IGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctMyBjb2wtbWQtNiBjb2wtc20tNiBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXF1YW50aXR5JykucmVtb3ZlQ2xhc3MoJ2NvbC1tZC0zIGNvbC1zbS0zIGNvbC1sZy0zIGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctNCBjb2wtbWQtNCBjb2wtc20tNCBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLW1vZGVsJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy00IGNvbC1tZC00IGNvbC1zbS00IGNvbC1sZy0zIGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctNCBjb2wtbWQtNCBjb2wtc20tNCBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXN0YXRlJykucmVtb3ZlQ2xhc3MoJ2NvbC1sZy00IGNvbC1tZC00IGNvbC1zbS00IGNvbC1sZy0zIGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctNCBjb2wtbWQtNCBjb2wtc20tNCBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgICAgICQoJy5maWVsZC1sb2FkY2FyLXByaWNlJykucmVtb3ZlQ2xhc3MoJ2NvbC1tZC0zIGNvbC1zbS0zIGNvbC1sZy0zIGNvbC1tZC02IGNvbC1zbS02IGNvbC14cy0xMicpLmFkZENsYXNzKCdjb2wtbGctNCBjb2wtbWQtNCBjb2wtc20tNCBjb2wteHMtMTInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemVzIGFjdGlvbnMgd2hlbiBjYXIgbW9kZWwgYWRkZWQgb3IgcmVtb3ZlZFxyXG4gKi9cclxuZnVuY3Rpb24gcmVnaXN0ZXJBZGRBbmRSZW1vdmVDYXJNb2RlbCgpIHtcclxuICAgICQoJy4nICsgd2lkZ2V0Q29udGFpbmVyKS5vbignYWZ0ZXJJbnNlcnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdG9nZ2xlUmVtb3ZlQnV0dG9uVmlzaWJpbGl0eSgpO1xyXG4gICAgICAgIHRvZ2dsZVJlcXVpcmVkQ2xhc3MoKTtcclxuICAgICAgICB0b2dnbGVQcmljZVZpc2liaWxpdHkoKTtcclxuICAgICAgICB0b2dnbGVRdWFudGl0eVZpc2liaWxpdHkoKTtcclxuICAgICAgICB0b2dnbGVRdWFudGl0eVZhbGlkYXRpb24oKTtcclxuICAgICAgICBjaGFuZ2VDYXJNb2RlbEl0ZW1zU3RydWN0dXJlKCk7XHJcbiAgICB9KS5vbignYWZ0ZXJEZWxldGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdG9nZ2xlUmVtb3ZlQnV0dG9uVmlzaWJpbGl0eSgpO1xyXG4gICAgICAgIGNoYW5nZUNhck1vZGVsSXRlbXNTdHJ1Y3R1cmUoKTtcclxuICAgICAgICB0b2dnbGVRdWFudGl0eVZpc2liaWxpdHkoKTtcclxuICAgICAgICB0b2dnbGVRdWFudGl0eVZhbGlkYXRpb24oKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogU2hvd3Mgb3IgaGlkZXMgY2FyIG1vZGVsIFwiUmVtb3ZlXCIgYnV0dG9uLCBkZXBlbmRpbmcgb24gZGlmZmVyZW50IGNhciBtb2RlbCBxdWFudGl0eVxyXG4gKi9cclxuZnVuY3Rpb24gdG9nZ2xlUmVtb3ZlQnV0dG9uVmlzaWJpbGl0eSgpIHtcclxuICAgIGlmICgkKCcuJyArIHdpZGdldEl0ZW0pLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAkKCcucmVtb3ZlLWxvYWQtY2FyLW1vZGVsJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKCcucmVtb3ZlLWxvYWQtY2FyLW1vZGVsJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2tzIHdoZXRoZXIgbG9hZCB0eXBlIGlzIG1hcmtlZCBhcyBwYXJ0aWFsXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gaXNMb2FkVHlwZVBhcnRpYWwoKSB7XHJcbiAgICByZXR1cm4gJCgnLklBLUMtMi5JQS1DLTM6Y2hlY2tlZCcpLnZhbCgpID09IFRZUEVfUEFSVElBTDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrcyB3aGV0aGVyIHBheW1lbnQgbWV0aG9kIGlzIGZvciBhbGwgbG9hZFxyXG4gKlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbmZ1bmN0aW9uIGlzUGF5bWVudE1ldGhvZEZvckFsbExvYWQoKSB7XHJcbiAgICByZXR1cm4gJCgnI0lBLUMtNCcpLnZhbCgpID09IEZPUl9BTExfTE9BRDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrcyB3aGV0aGVyIHBheW1lbnQgbWV0aG9kIGlzIGZvciBjYXIgbW9kZWxcclxuICpcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBpc1BheW1lbnRNZXRob2RGb3JDYXJNb2RlbCgpIHtcclxuICAgIHJldHVybiAkKCcjSUEtQy00JykudmFsKCkgPT0gRk9SX0NBUl9NT0RFTDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrcyB3aGV0aGVyIGxvYWQgdHlwZSBpcyBtYXJrZWQgYXMgZnVsbFxyXG4gKlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbmZ1bmN0aW9uIGlzTG9hZFR5cGVGdWxsKCkge1xyXG4gICAgcmV0dXJuICQoJy5JQS1DLTIuSUEtQy0zOmNoZWNrZWQnKS52YWwoKSA9PSBUWVBFX0ZVTEw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVja3Mgd2hldGhlciBsb2FkIHR5cGUgaXMgc2VsZWN0ZWRcclxuICpcclxuICogQHJldHVybnMgeyp8alF1ZXJ5fVxyXG4gKi9cclxuZnVuY3Rpb24gaXNMb2FkVHlwZVNlbGVjdGVkKCkge1xyXG4gICAgcmV0dXJuICQoJy5JQS1DLTIuSUEtQy0zJykuaXMoJzpjaGVja2VkJyk7XHJcbn1cclxuIl19
